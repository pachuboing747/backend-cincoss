<div id="realTimesProducts" class="uk-child-width-1-4@m" uk-grid>

  <form id="createProductForm">
    <label for="productName">Nombre del producto:</label>
    <input type="text" id="productName" required>
    <label for="productPrice">Precio:</label>
    <input type="number" id="productPrice" required>
    <button type="submit">Crear Producto</button>
    <div>
    <button type="submit">Eliminar Productos</button>
    </div>
   
  </form>

  <ul id="productList">
  {{#each realTimesProducts}}
  <li>Nombre: {{this.title}}, Precio: ${{this.price}}</li>
  {{/each}}
  </ul>

  <script src="/socket.io/socket.io.js"></script>
  <script>
    async function addProduct(event) {
      event.preventDefault();
      const productName = document.getElementById("productName").value;
      const productPrice = document.getElementById("productPrice").value;

      const response = await fetch("/addProduct", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          title: productName,
          price: productPrice,
        }),
      });

      if (response.ok) {
        window.location.reload();
      } else {
        console.error("Error al agregar el producto");
      }
    }

    async function deleteProducts() {
      const response = await fetch("/deleteProducts", {
        method: "POST",
      });

      if (response.ok) {
        window.location.reload();
      } else {
        console.error("Error al eliminar los productos");
      }
    }

    document.getElementById("createProductForm").addEventListener("submit", addProduct);
    {{!-- document.getElementById("deleteProductButton").addEventListener("click", deleteProducts); --}}
  </script>
  
  
</div>

